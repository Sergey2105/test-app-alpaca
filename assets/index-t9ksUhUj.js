(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const q=document.getElementById("theme-toggle");q.addEventListener("click",()=>{document.body.classList.contains("theme-dark")?(document.body.classList.remove("theme-dark"),document.body.classList.add("theme-light")):(document.body.classList.remove("theme-light"),document.body.classList.add("theme-dark"))});const _=document.getElementById("calendar"),u=30,D=5;let r=null,l=null;const o=()=>{r=null,l=null,document.querySelectorAll(".calendar__date").forEach(t=>{t.classList.remove("calendar__date_current"),t.classList.remove("calendar__date_range_btn");const e=t.parentElement;e&&(e.classList.remove("calendar__date_range"),e.classList.remove("calendar__date_start"),e.classList.remove("calendar__date_end"),e.classList.remove("q_start"),e.classList.remove("q_end"))})},y=(t,e,n)=>{if(!r)o(),r=t,e.classList.add("calendar__date_current");else if(l)o(),r=t,l=null,e.classList.add("calendar__date_current");else if(t===r)o();else if(t<r)o(),r=t,e.classList.add("calendar__date_current");else{l=t,e.classList.add("calendar__date_current"),n.classList.add("calendar__date_end");const a=document.querySelector(`.calendar__date[data-day="${r}"]`)?.parentElement;a&&a.classList.add("calendar__date_start"),document.querySelectorAll(".calendar__date").forEach(s=>{const c=parseInt(s.dataset.day);if(c>r&&c<l){const h=s.parentElement;s.classList.add("calendar__date_range_btn"),h.classList.add("calendar__date_range");const d=[...document.querySelectorAll(".calendar__date_current, .calendar__date_range_btn")],m=d[0],E=parseInt(m?.dataset.day,10);m?.classList.contains("calendar__date_current")&&(E-1)%7===0&&d.shift();const f=d[d.length-1],v=parseInt(f?.dataset.day,10);f?.classList.contains("calendar__date_current")&&v%7===0&&d.pop(),d.forEach(p=>{const L=parseInt(p.dataset.day),g=p.parentElement,b=(L-1)%7===0,C=L%7===0;b&&g.classList.add("q_start"),C&&g.classList.add("q_end")})}})}},N=()=>{_.innerHTML="";for(let t=1;t<=u;t++){const e=document.createElement("div");e.className="calendar__item";const n=document.createElement("button");n.className="calendar__date calendar__date_active",n.textContent=t,n.dataset.day=t,n.addEventListener("click",()=>y(t,n,e)),e.appendChild(n),_.appendChild(e)}for(let t=1;t<=D;t++){const e=document.createElement("div");e.className="calendar__item";const n=document.createElement("button");n.className="calendar__date calendar__date_inactive",n.textContent=t,n.dataset.day=u+t,n.addEventListener("click",()=>y(u+t,n,e)),e.appendChild(n),_.appendChild(e)}};N();
